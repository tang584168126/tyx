<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>使用正则表达式验证注册页面</title>
<style type="text/css">
body{
	margin:0;
	padding:0;
	font-size:12px;
	line-height:20px;
}
.main{
	width:525px;
	margin-left:auto;
	margin-right:auto;
	}
.hr_1 {
	font-size: 14px;
	font-weight: bold;
	color: #3275c3;
	height: 35px;
	border-bottom-width: 2px;
	border-bottom-style: solid;
	border-bottom-color: #3275c3;
	vertical-align:bottom;
	padding-left:12px;
}
.left{
	text-align:right;
	width:80px;
	height:25px;
	padding-right:5px;
	}
	
.center{
	width:135px;
	}
.in{
	width:130px;
	height:16px;
	border:solid 1px #79abea;
	}

.red{
	color:#cc0000;
	font-weight:bold;
	}

div{
	color:#F00;
	}	
</style>
<script src="js/jquery-1.11.2.js"></script>
<script type="text/javascript">
	//验证用户名
	function checkUser(){
		var user = $("#user").val();
		var $user_prompt = $("#user_prompt");
		$user_prompt.html("");
		var reg = /^([A-Z]|[a-z])\w{3,15}$/;
		if(user == ''){
			$user_prompt.html("请输入用户名！");
			return false;
		}
		if(reg.test(user)==false){
			$user_prompt.html("用户名由英文字母和数字组成的4-16位字符，以字母开头");
			return false;
		}
		return true;
	}	
	//验证密码
	function checkPwd(){
		var pwd = $("#pwd").val();
		var $pwd_prompt = $("#pwd_prompt");
		$pwd_prompt.html("");
		var reg = /^\w{4-10}$/;
		if(pwd == ''){
			$pwd_prompt.html("请输入密码！");
			return false;
		}
		if(reg.test(pwd) == false){
			$pwd_prompt.html("密码由英文字母和数字组成的4-10位字符");
			return false;
		}
		return true;
	}
	//验证确认密码
	function checkRepwd(){
		var pwd = $("#pwd").val();
		var repwd = $("#repwd").val();
		var $repwd_prompt = $("#repwd_prompt");
		$repwd_prompt.html("");
		if(pwd != repwd){
			$repwd_prompt.html("再次输入的密码不一致！");
			return false;
		}
		return true;
	}
	//验证电子邮箱
	function checkEmail(){
		var email = $("#email").val();
		var $email_prompt = $("#email_prompt");
		$email_prompt.html("");
		var reg = /^\w+(\.[a-zA-Z]{2,3}){1,2}$/;
		if(email == ''){
			$email_prompt.html("请输入Email！");
			return false;
		}
		if(reg.test(email)){
			$email_prompt.html("Email格式不正确，请重新输入！");
			return false;
		}
		return true;
	}
	//验证手机号码	
	function checkMobile(){
		var mobile = $("#mobile").val();
		var $mobile_prompt = $("#mobile_prompt");
		$mobile_prompt.html("");
		var reg = /^1\d{10}$/;
		if(mobile == ''){
			$mobile_prompt.html("请输入手机号码！");
			return false;
		}
		if(reg.test(mobile)){
			$mobile_prompt.html("请输入正确的手机号码！");
			return false;
		}
		return true;
	}
	//验证生日
	function checkBirth(){
		var birth = $("#birth").val();
		var $birth_prompt = $("#birth_prompt");
		$birth_prompt.html("");
		var reg=/^((19\d{2})|(200\d))-(0?[1-9]|1[0-2])-(0?[1-9]|[1-2]\d|3[0-1])$/;
		if(birth == ''){
			$birth_prompt.html("请输入生日！");
			return false;
		}
		if(reg.test(birth)){
			$birth_prompt.html("生日格式为1980-5-12的形式！");
			return false;
		}
		return true;
	}
	//提交数据
	$(function(){
		$("input:last").submit(function(){
			var flag = true;
			if(!checkUser()){
				flag = false;
			}
			if(!checkPwd()){
				flag = false;
			}
			if(!checkRepwd()){
				flag = false;
			}
			if(!checkMobile()){
				flag = false;
			}
			if(!checkEmail()){
				flag = false;
			}
			if(!checkBirth()){
				flag = false;
			}
			return flag;
		});
	});
</script>
</head>

<body>
<table class="main" border="0" cellspacing="0" cellpadding="0">
  <tr>
    <td><img src="images/logo.jpg" alt="logo" /><img src="images/banner.jpg" alt="banner" /></td>
  </tr>
  <tr>
    <td class="hr_1">新用户注册</td>
  </tr>
  <tr>
    <td style="height:10px;"></td>
  </tr>
  <form action="" method="post" name="myform">
  <tr>
    <td><table width="100%" border="0" cellspacing="0" cellpadding="0">
  <tr>
    <td class="left">用户名：</td>
    <td class="center"><input id="user" type="text" class="in" onblur="checkUser()" /></td>
    <td><div id="user_prompt"></div></td>
  </tr>
  <tr>
    <td class="left">密码：</td>
    <td class="center"><input id="pwd" type="password" class="in"  onblur="checkPwd()"/></td>
    <td><div id="pwd_prompt"></div></td>
  </tr>
  <tr>
    <td class="left">确认密码：</td>
    <td class="center"><input id="repwd" type="password" class="in"  onblur="checkRepwd()"/></td>
    <td><div id="repwd_prompt"></div></td>
  </tr>
   <tr>
    <td class="left">电子邮箱：</td>
    <td class="center"><input id="email" type="text" class="in"  onblur="checkEmail()"/></td>
    <td><div id="email_prompt"></div></td>
  </tr>
    <tr>
    <td class="left">手机号码：</td>
    <td class="center"><input id="mobile" type="text" class="in" onblur="checkMobile()" /></td>
    <td><div id="mobile_prompt"></div></td>
  </tr>
  <tr>
    <td class="left">生日：</td>
    <td class="center"><input id="birth" type="text" class="in"  onblur="checkBirth()"/></td>
    <td><div id="birth_prompt"></div></td>
  </tr>
   <tr>
    <td class="left">&nbsp;</td>
    <td class="center"><input name="" type="image" src="images/register.jpg" /></td>
    <td>&nbsp;</td>
  </tr>
</table>
</td>
  </tr>
  </form>
</table>

</body>
</html>
